<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üáÆüá≥ Indian ATM Machine - Logic Gate Simulation</title>
<style>
  body {
    font-family: 'Courier New', monospace;
    background-color: #001f3f;
    color: #00ffcc;
    padding: 20px;
  }
  h1, h2 {
    color: #ffcc00;
    text-align: center;
  }
  .console {
    background-color: #000;
    border: 2px solid #00ffcc;
    border-radius: 10px;
    padding: 15px;
    margin-top: 15px;
    white-space: pre-line;
  }
  button {
    background-color: #00ffcc;
    border: none;
    color: #001f3f;
    padding: 10px 20px;
    margin: 10px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
  }
  input {
    background-color: #000;
    color: #00ffcc;
    border: 2px solid #00ffcc;
    padding: 6px;
    font-family: 'Courier New';
  }
</style>
</head>
<body>

<h1>üè¶ INDIAN ATM MACHINE - LOGIC GATE DEMONSTRATION</h1>
<h2>By Sanjai Seashathri | AI & DS Department | DLCO Project</h2>

<div class="console" id="output">
Welcome to the Indian ATM Simulation using Logic Gates.
Insert Card... Initializing Memory Registers...
</div>

<br>
<div id="controls">
  <label>Enter your 4-digit PIN: </label>
  <input type="password" id="pinInput" maxlength="4">
  <button onclick="verifyPIN()">Submit</button>
</div>

<script>
let storedPIN = "1234";
let balance = 10000;
let authenticated = false;
let attempts = 0;

function print(msg) {
  document.getElementById("output").innerHTML += "\n" + msg;
}

function verifyPIN() {
  let pin = document.getElementById("pinInput").value;
  let output = document.getElementById("output");
  output.innerHTML = ""; 
  print("Step 1: PIN Verification using XNOR Logic");
  print("Logic Gate Used: XNOR Gate (Equality Check)");
  print("Expression: P = (Entered_PIN XNOR Stored_PIN)");

  let P = (pin === storedPIN) ? 1 : 0;
  print(`Result: P = ${P} ‚Üí ${P ? "Correct PIN ‚úÖ" : "Wrong PIN ‚ùå"}`);

  if (P === 1) {
    authenticated = true;
    print("\n‚úÖ Access Granted!\n");
    showMenu(P);
  } else {
    attempts++;
    if (attempts >= 3) {
      print("\n‚ö†Ô∏è Too many failed attempts. Card Blocked.");
      document.getElementById("controls").innerHTML = "";
    } else {
      print("\nPlease try again.");
    }
  }
}

function showMenu(P) {
  let html = `
  <h3>Select an option:</h3>
  <button onclick="withdraw(${P})">üí∏ Withdraw</button>
  <button onclick="checkBalance(${P})">üí∞ Check Balance</button>
  <button onclick="deposit(${P})">üè¶ Deposit</button>
  <button onclick="exitATM()">‚ùå Exit</button>
  `;
  document.getElementById("controls").innerHTML = html;
}

function withdraw(P) {
  let amount = parseInt(prompt("Enter amount to withdraw (‚Çπ):"));
  let A1 = 1;
  let S = (amount > 0 && amount <= balance) ? 1 : 0;

  print(`\nSTEP 2.1 ‚Üí WITHDRAW OPERATION`);
  print("Logic Gate Used: AND Gate");
  print("Expression: W = P ‚ãÖ A1 ‚ãÖ S");
  print(`Inputs: P=${P}, A1=${A1}, S=${S}`);
  let W = P && A1 && S;
  print(`Output (W): ${W} ‚Üí ${W ? "Withdrawal Allowed ‚úÖ" : "Denied ‚ùå"}`);

  let C = 0, D = 0;
  print("\nNext Logic Gate: OR Gate for Transaction Validation");
  print("Expression: V = W + C + D");
  let V = (W || C || D) ? 1 : 0;
  print(`Inputs: W=${W}, C=${C}, D=${D}`);
  print(`Output (V): ${V} ‚Üí ${V ? "Transaction Valid ‚úÖ" : "Invalid ‚ùå"}`);

  if (W === 1) {
    balance -= amount;
    print(`\nüí∏ ‚Çπ${amount} Withdrawn Successfully`);
    print(`üí∞ Remaining Balance: ‚Çπ${balance}`);
  } else {
    print("\n‚ö†Ô∏è Transaction Failed - Insufficient Balance or Invalid Input");
  }
}

function checkBalance(P) {
  let A2 = 1;
  print("\nSTEP 2.2 ‚Üí BALANCE CHECK OPERATION");
  print("Logic Gate Used: AND Gate");
  print("Expression: C = P ‚ãÖ A2");
  print(`Inputs: P=${P}, A2=${A2}`);
  let C = P && A2;
  print(`Output (C): ${C} ‚Üí ${C ? "Access Granted ‚úÖ" : "Denied ‚ùå"}`);

  let W = 0, D = 0;
  print("\nNext Logic Gate: OR Gate for Transaction Validation");
  print("Expression: V = W + C + D");
  let V = (W || C || D) ? 1 : 0;
  print(`Inputs: W=${W}, C=${C}, D=${D}`);
  print(`Output (V): ${V} ‚Üí ${V ? "Transaction Valid ‚úÖ" : "Invalid ‚ùå"}`);

  if (C === 1) {
    print(`\nüí∞ Your Current Balance: ‚Çπ${balance}`);
  }
}

function deposit(P) {
  let A3 = 1;
  let amount = parseInt(prompt("Enter amount to deposit (‚Çπ):"));
  print("\nSTEP 2.3 ‚Üí DEPOSIT OPERATION");
  print("Logic Gate Used: AND Gate");
  print("Expression: D = P ‚ãÖ A3");
  print(`Inputs: P=${P}, A3=${A3}`);
  let D = P && A3;
  print(`Output (D): ${D} ‚Üí ${D ? "Deposit Allowed ‚úÖ" : "Denied ‚ùå"}`);

  let W = 0, C = 0;
  print("\nNext Logic Gate: OR Gate for Transaction Validation");
  print("Expression: V = W + C + D");
  let V = (W || C || D) ? 1 : 0;
  print(`Inputs: W=${W}, C=${C}, D=${D}`);
  print(`Output (V): ${V} ‚Üí ${V ? "Transaction Valid ‚úÖ" : "Invalid ‚ùå"}`);

  if (D === 1) {
    balance += amount;
    print(`\n‚úÖ ‚Çπ${amount} Deposited Successfully`);
    print(`üí∞ Updated Balance: ‚Çπ${balance}`);
  }
}

function exitATM() {
  print("\nSTEP 3 ‚Üí EXIT OPERATION");
  print("-------------------------------------------");
  print("Logic Gate Used: OR Gate (Final Validation)");
  print("Expression: V = W + C + D = P ‚ãÖ (A1‚ãÖS + A2 + A3)");
  print("\nüß† FINAL LOGIC EXPRESSIONS USED:");
  print("1Ô∏è‚É£ PIN Verification ‚Üí XNOR Gate ‚Üí P = (Entered_PIN XNOR Stored_PIN)");
  print("2Ô∏è‚É£ Withdraw         ‚Üí AND Gate ‚Üí W = P ‚ãÖ A1 ‚ãÖ S");
  print("3Ô∏è‚É£ Check Balance    ‚Üí AND Gate ‚Üí C = P ‚ãÖ A2");
  print("4Ô∏è‚É£ Deposit          ‚Üí AND Gate ‚Üí D = P ‚ãÖ A3");
  print("5Ô∏è‚É£ Transaction Valid ‚Üí OR Gate ‚Üí V = W + C + D");
  print("\nüôè Thank you for using Indian ATM üí≥");
  document.getElementById("controls").innerHTML = "";
}
</script>

</body>
</html>
